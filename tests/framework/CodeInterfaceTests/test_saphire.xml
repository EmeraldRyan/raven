<?xml version="1.0" ?>
<Simulation verbosity="debug">
  <TestInfo>
    <name>saphire</name>
    <author>wangc</author>
    <created>2018-07-03</created>
    <classesTested>CodeInterface</classesTested>
    <description>
       This test is aimed to show the extension of the GenericCode interface for SAPHIRE
    </description>
  </TestInfo>
  <RunInfo>
    <JobName>saphire</JobName>
    <Sequence>sample</Sequence>
    <WorkingDir>testSaphire</WorkingDir>
    <batchSize>1</batchSize>
  </RunInfo>

  <Files>
    <Input name="macro" type="">Class_Chg_DEMO.mac</Input>
  </Files>

  <Models>
    <Code name="saphire" subType="GenericCode">
      <executable></executable>
      <clargs arg="project=pathToProject" type="text"/>
      <clargs arg="macro" extension=".mac" type="input" delimiter="="/>
    </Code>
  </Models>

  <Distributions>
    <Normal name="allEvents">
        <mean>0.1</mean>
        <sigma>0.025</sigma>
        <lowerBound>0.05</lowerBound>
        <upperBound>0.15</upperBound>
    </Normal>
    <Normal name="mov1Event">
        <mean>0.5</mean>
        <sigma>0.1</sigma>
        <lowerBound>0.3</lowerBound>
        <upperBound>0.8</upperBound>
    </Normal>
    <Normal name="single1">
        <mean>0.2</mean>
        <sigma>0.05</sigma>
          <lowerBound>0.1</lowerBound>
          <upperBound>0.3</upperBound>
    </Uniform>
  </Distributions>

  <Samplers>
    <MonteCarlo name="mcSaphire">
        <samplerInit>
            <limit>3</limit>
        </samplerInit>
        <variable name="allEventsPb">
            <distribution>allEvents</distribution>
        </variable>
        <variable name="mov1EventPb">
            <distribution>mov1Event</distribution>
        </variable>
        <variable name="single1Pb">
            <distribution>single1</distribution>
        </variable>
    </MonteCarlo>

  </Samplers>

  <Steps>
    <MultiRun name="sample">
      <Input class="Files" type="">macro</Input>
      <Model class="Models" type="Code">saphire</Model>
      <Sampler class="Samplers" type="MonteCarlo">mcSaphire</Sampler>
      <Output class="DataObjects" type="PointSet">saphireDump</Output>
      <Output class="OutStreams" type="Print">saphirePrint</Output>
    </MultiRun>
  </Steps>

  <DataObjects>
    <PointSet name="saphireDump">
      <Input>allEventPb, mov1EventPb, single1Pb</Input>
      <Output></Output>
    </PointSet>
  </DataObjects>

  <OutStreams>
    <Print name="samphirePrint">
      <type>csv</type>
      <source>saphireDump</source>
      <what>input,output</what>
    </Print>
  </OutStreams>

</Simulation>
